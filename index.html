<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dashboard - Demo</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --accent1:#ff8a6b;
    --accent2:#ffd27a;
    --bg:#f5f1ee;
    --card:#fff;
    --muted:#8f8f8f;
    --dark:#222;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);font-family:"Poppins",system-ui,Arial; -webkit-font-smoothing:antialiased}
  /* topbar (fixed) */
  .topbar{
    position:fixed; top:0; left:0; right:0;
    height:48px; background:#fff;
    display:flex; align-items:center; justify-content:space-between;
    padding:6px 12px; z-index:120;
    box-shadow:0 2px 6px rgba(0,0,0,0.08);
  }
  .top-left{display:flex;align-items:center;gap:12px; z-index:121}
  .menu-btn{
    width:36px;height:36px;border-radius:8px;
    display:flex;align-items:center;justify-content:center;
    cursor:pointer;background:linear-gradient(90deg,var(--accent1),var(--accent2));
    z-index:121;
  }
  .menu-btn .bars{width:16px;height:11px;position:relative}
  .menu-btn .bars:before,.menu-btn .bars:after,.menu-btn .bars div{
    content:"";position:absolute;left:0;right:0;height:2px;background:#fff;border-radius:2px;
  }
  .menu-btn .bars:before{top:0}
  .menu-btn .bars div{top:4.5px}
  .menu-btn .bars:after{bottom:0}

  .topbar-center{position:absolute; left:0; right:0; display:flex; justify-content:center; pointer-events:none; z-index:110}
  .title{font-weight:600;font-size:16px;color:var(--dark); text-align:center; pointer-events:auto; background:transparent; padding:6px 12px; border-radius:6px}

  .notif{position:relative;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer}
  .notif img{width:22px;height:22px;filter:grayscale(0) contrast(.95)}
  .notif .badge{position:absolute;top:-6px;right:-6px;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;padding:3px 8px;border-radius:12px;font-size:11px;font-weight:700}

  /* main scrolling area */
  .frame{
    position: absolute;
    top:48px; left:0; right:0; bottom:0;
    overflow:auto; display:flex; justify-content:center; padding:14px;
  }
  .content-wrap{
    max-width:980px; width:100%;
  }
  .screenshot{
    width:100%; height:auto; display:block; object-fit:cover; border-radius:10px;
    box-shadow:0 10px 30px rgba(0,0,0,0.06);
  }

  /* Drawer overlay + panel */
  .drawer-overlay{
    position:fixed; left:0; top:0; right:0; bottom:0;
    background:rgba(0,0,0,0.28); display:none; z-index:140;
  }
  .drawer{
    position:fixed; left:0; top:0; bottom:0; width:340px; max-width:86%;
    background:transparent; transform:translateX(-110%); transition:transform .28s cubic-bezier(.2,.9,.3,1); z-index:150;
    display:flex; flex-direction:column;
  }

  /* drawer content box */
  .drawer-inner{
    background:var(--card); height:100%; box-shadow:0 12px 36px rgba(0,0,0,0.16);
    border-top-right-radius:14px; border-bottom-right-radius:14px; overflow:hidden;
    display:flex; flex-direction:column;
  }

  /* header gradient area (profile) */
  .drawer-head{
    padding:18px; background:linear-gradient(90deg,var(--accent1),var(--accent2));
    color:#111; display:flex; flex-direction:column; gap:10px; align-items:center;
    box-shadow: inset 0 -10px 18px rgba(0,0,0,0.03);
  }
  .avatar{
    width:86px;height:86px;border-radius:50%;background:#fff;border:6px solid rgba(255,255,255,0.85);overflow:hidden;
    display:flex;align-items:center;justify-content:center;font-weight:700;font-size:22px;color:#333;
    box-shadow:0 10px 24px rgba(0,0,0,0.16);
  }
  .user-name{font-weight:700;font-size:17px;text-align:center;color:#111}
  .user-id{font-size:13px;color:#111;opacity:.95}
  .user-deg{font-size:13px;color:rgba(0,0,0,0.85); text-align:center; opacity:.95}

  /* search box */
  .search-wrap{padding:14px 16px;background:transparent}
  .search{
    width:100%; padding:12px 14px;border-radius:18px;border:0; background:#fff;
    font-size:14px;color:#333; outline:none;
    box-shadow:0 6px 14px rgba(12,12,12,0.06), inset 0 1px 0 rgba(255,255,255,0.6);
    display:flex;align-items:center;
  }
  .search::placeholder{color:var(--muted)}

  .search-row{display:flex;gap:10px;align-items:center}
  .magnifier{width:36px;height:36px;border-radius:10px;background:#fff;border:1px solid rgba(0,0,0,0.04);display:flex;align-items:center;justify-content:center;font-size:16px;color:var(--muted)}

  /* list items */
  .menu-list{flex:1; overflow:auto; padding:6px 0}
  .item{
    display:flex; gap:14px; align-items:center; padding:14px 18px; cursor:pointer;
    border-bottom:1px solid rgba(0,0,0,0.04); background:transparent;
  }
  .item:hover{background:linear-gradient(90deg, rgba(255,240,235,0.6), rgba(255,250,240,0.3))}
  .ic{width:44px;height:44px;border-radius:8px;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid rgba(0,0,0,0.04);box-shadow:0 6px 10px rgba(0,0,0,0.04)}
  .label{font-size:16px;color:var(--dark);flex:1;font-weight:500}

  /* highlight important row (like Mess Food Scanner) */
  .item.primary .ic{background:linear-gradient(120deg,var(--accent1),var(--accent2)); color:#fff}
  .item.primary .label{font-weight:600;color:#222}

  /* logout bar */
  .drawer-foot{padding:18px;background:transparent}
  .logout{
    width:100%; padding:12px;border-radius:999px;border:none;font-weight:700;
    background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#fff; font-size:15px;
    cursor:pointer; box-shadow:0 10px 28px rgba(0,0,0,0.14);
  }

  /* small screens tweak */
  @media (max-width:420px){
    .drawer{width:86%}
    .screenshot{max-width:420px}
    .title{font-size:15px}
  }

  /* show drawer */
  .drawer-open .drawer{transform:translateX(0)}
  .drawer-open .drawer-overlay{display:block}

  /* small content panel that shows when Mess Food Scanner clicked */
  .panel{
    position:fixed; right:14px; bottom:14px; left:auto; width:320px; max-width:86%;
    background:#fff;border-radius:12px;padding:14px;box-shadow:0 16px 40px rgba(0,0,0,0.18); z-index:85;
    display:none; transform:translateY(10px); transition:all .18s ease;
  }
  .panel.show{display:block; transform:translateY(0)}
  .panel h4{margin:0 0 8px 0;font-size:16px}
  .panel p{color:var(--muted);margin:0;font-size:14px}
</style>
</head>
<body>

  <!-- topbar -->
  <div class="topbar">
    <div class="top-left">
      <div class="menu-btn" id="menuOpen" title="Open menu" role="button" aria-label="Open menu">
        <div class="bars"><div></div></div>
      </div>
    </div>

    <div class="topbar-center"><div class="title">Dashboard</div></div>

    <div style="display:flex;align-items:center;gap:8px">
      <div class="notif" id="notifBtn" title="Notifications">
        <img src="https://cdn-icons-png.flaticon.com/512/1827/1827392.png" alt="bell">
        <div class="badge">34</div>
      </div>
    </div>
  </div>

  <!-- main area -->
  <div class="frame">
    <div class="content-wrap">
      <!-- main screenshot image (your big UI) -->
      <img src="lputouches.png" class="screenshot" alt="App screenshot">
    </div>
  </div>

  <!-- small floating panel for Mess Food Scanner -->
  <div class="panel" id="messPanel">
    <h4>Mess Food Scanner</h4>
    <p>Scanner demo panel. Replace content or wire a scanner library here.</p>
  </div>

  <!-- drawer overlay & drawer -->
  <div class="drawer-overlay" id="overlay"></div>

  <div class="drawer" id="drawer">
    <div class="drawer-inner">
      <div class="drawer-head">
        <div class="avatar" id="avatarHolder">MG</div>
        <div class="user-name" id="uName">Mallidi Gana Jagadeesh Reddy</div>
        <div class="user-id">12311248</div>
        <div class="user-deg">P132:B.Tech. (Computer Science and Engineering)(2023)</div>
      </div>

      <div class="search-wrap">
        <div class="search-row">
          <div class="magnifier">üîç</div>
          <input class="search" id="searchInput" placeholder="Search">
        </div>
      </div>

      <div class="menu-list" id="menuList">
        <div class="item primary" data-key="mess">
          <div class="ic">üçΩÔ∏è</div>
          <div class="label">Mess Food Scanner</div>
        </div>

        <div class="item"><div class="ic">üóÇÔ∏è</div><div class="label">Mentor Meeting Details</div></div>
        <div class="item"><div class="ic">üçõ</div><div class="label">Mess Food Scanner (duplicate)</div></div>
        <div class="item"><div class="ic">üßæ</div><div class="label">Open Minor Area Preference</div></div>
        <div class="item"><div class="ic">üìå</div><div class="label">PEP Activities</div></div>
        <div class="item"><div class="ic">üî≥</div><div class="label">Placement Barcode Scanner</div></div>
        <div class="item"><div class="ic">üì£</div><div class="label">Placement Drive</div></div>
        <div class="item"><div class="ic">üìä</div><div class="label">Placement Drive Summary</div></div>
        <div class="item"><div class="ic">üöÜ</div><div class="label">Railway Concession Form</div></div>
        <div class="item"><div class="ic">üîÅ</div><div class="label">ReAppear Registration</div></div>
        <div class="item"><div class="ic">üìÑ</div><div class="label">Document Upload</div></div>
        <div class="item"><div class="ic">üíª</div><div class="label">Entry Exit Logs</div></div>
        <div class="item"><div class="ic">ü©∫</div><div class="label">Doctor Appointment</div></div>
      </div>

      <div class="drawer-foot">
        <button class="logout" id="logoutBtn">LOGOUT ‚éò</button>
      </div>
    </div>
  </div>

<script>
  // Keep event binding robust and simple
  const body = document.body;
  const menuOpen = document.getElementById('menuOpen');
  const overlay = document.getElementById('overlay');
  const drawer = document.getElementById('drawer');
  const avatar = document.getElementById('avatarHolder');
  const messPanel = document.getElementById('messPanel');
  const menuList = document.getElementById('menuList');

  // Toggle class to show/hide
  function openDrawer(){ body.classList.add('drawer-open'); overlay.style.display='block'; }
  function closeDrawer(){ body.classList.remove('drawer-open'); overlay.style.display='none'; hideMessPanel(); }

  // Attach click with safe checks
  menuOpen.addEventListener('click', (e)=>{
    e.stopPropagation();
    openDrawer();
    // ensure focus for accessibility
    setTimeout(()=> menuList.querySelector('.search')?.focus?.(), 200);
  });

  overlay.addEventListener('click', closeDrawer);
  document.addEventListener('keydown', (e)=> { if(e.key === 'Escape') closeDrawer(); });

  // Avatar load: prefers lputouches.png
  (function loadAvatar(){
    const tryNames = ['lputouches.png','lputouch.png','avatar.png','lputouches.JPG','lputouches.jpg','lputouch.JPG','lputouch.jpg'];
    let loaded=false;
    tryNames.forEach(name=>{
      if(loaded) return;
      const img = new Image();
      img.src = name;
      img.onload = function(){
        if(loaded) return;
        avatar.innerHTML = '';
        img.style.width='100%';
        img.style.height='100%';
        img.style.objectFit='cover';
        avatar.appendChild(img);
        loaded=true;
      };
    });
    if(!loaded){
      const nm = document.getElementById('uName').textContent || 'User';
      const parts = nm.trim().split(' ');
      const initials = (parts[0] ? parts[0][0] : 'U') + (parts[1] ? parts[1][0] : '');
      avatar.textContent = initials.toUpperCase();
      avatar.style.background = '#fff';
    }
  })();

  // Menu clicks
  menuList.addEventListener('click', (ev)=>{
    const item = ev.target.closest('.item');
    if(!item) return;
    const key = item.dataset.key || item.querySelector('.label')?.textContent?.trim() || '';
    if(key.toLowerCase().includes('mess')){
      // toggles small panel
      if(messPanel.classList.contains('show')) hideMessPanel();
      else showMessPanel();
      return;
    }
    // else: placeholder behavior: close drawer and console log
    const label = item.querySelector('.label')?.textContent?.trim() || 'item';
    console.log('Clicked menu:', label);
    closeDrawer();
  });

  function showMessPanel(){
    messPanel.classList.add('show');
  }
  function hideMessPanel(){
    messPanel.classList.remove('show');
  }

  // hide panel when clicking outside
  document.addEventListener('click', (e)=>{
    const p = e.target;
    if(messPanel.classList.contains('show') && !messPanel.contains(p) && !p.closest('.item[data-key="mess"]')){
      hideMessPanel();
    }
  });

  // Logout
  document.getElementById('logoutBtn').addEventListener('click', ()=>{
    if(confirm('Sign out?')) window.location.reload();
  });

  // Search filtering
  const search = document.getElementById('searchInput');
  search?.addEventListener('input', function(){
    const q = this.value.toLowerCase();
    const items = document.querySelectorAll('#menuList .item');
    items.forEach(it=>{
      const txt = it.querySelector('.label')?.textContent?.toLowerCase() || '';
      it.style.display = txt.includes(q) ? '' : 'none';
    });
  });

  // debug log to console so we can see if menu open fires
  menuOpen.addEventListener('click', ()=> console.log('menuOpen clicked'));
</script>
</body>
</html>
